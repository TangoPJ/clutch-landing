---
import { Image as AstroImage } from "astro:assets";
import deviceImage from "../assets/image.png";
import NumberedList from "./shared/NumberedList.astro";
import tire from "../assets/tire.svg";

const items = [
  {
    number: 1,
    content: "Discover new car shows, track days and meet-ups",
  },
  {
    number: 2,
    content:
      "Book your spot with ease, get all the details and directions in one place",
  },
  {
    number: 3,
    content: "Share your adventures with the Clutch community",
  },
];
---

<section class="journey-section">
  <div class="journey-section-left">
    <AstroImage src={deviceImage} alt="Journey Section Left Image" />
  </div>

  <div class="journey-section-right">
    <h2 class="journey-section-right-title">
      Your journey,<br />Your community,<br />Your events.
    </h2>

    <div class="numbered-list-container">
      {
        items.map((item, index) => (
          <NumberedList key={item.number + index} number={item.number}>
            {item.content}
          </NumberedList>
        ))
      }
    </div>

    <AstroImage
      class="tire-image"
      src={tire}
      alt="Journey Section Right Image"
    />
  </div>
</section>

<style>
  :global(html) {
    box-sizing: border-box;
  }
  :global(*),
  :global(*::before),
  :global(*::after) {
    box-sizing: inherit;
  }

  .journey-section {
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    gap: 1rem;
    align-items: stretch;
  }

  .journey-section-left,
  .journey-section-right {
    flex: 1 1 50%;
    min-width: 0;
    box-sizing: border-box;
    border-radius: 24px;
    overflow: hidden;
  }

  .journey-section-left {
    background-color: #e8f1f2;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
  }

  .journey-section-left img {
    display: block;
    width: 100%;
    height: auto;
    max-width: 100%;
    object-fit: cover;
  }

  .journey-section-right {
    background-color: #f0eadd;
    padding: clamp(20px, 4vw, 48px);
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
    z-index: 1;
    overflow: hidden;
  }

  .tire-image {
    position: absolute;
    bottom: -10px;
    right: -20px;
    object-fit: cover;
    transform: rotate(4.21deg);
    max-width: 50%;
    height: auto;
    pointer-events: none;
    z-index: 0;
  }

  .journey-section-right-title {
    margin: 0 0 clamp(16px, 3vw, 24px);
    font-weight: 700;
    color: #1d757d;
    font-size: clamp(28px, 7vw, 60px);
    line-height: 1.15;
    letter-spacing: -0.02em;
    overflow-wrap: break-word;
  }

  .numbered-list-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    min-width: 0;
    max-width: 327px;
  }

  @media (max-width: 875px) {
    .journey-section {
      flex-direction: column;
      gap: 1rem;
      padding: 16px;
    }

    .journey-section-left,
    .journey-section-right {
      flex-basis: auto;
      width: 100%;
    }

    .journey-section-right {
      padding: 24px;
      border-radius: 16px;
    }
  }
</style>
